#include "globals.h"

Arduboy2Base arduboy;
Font3x5 font3x5;

State state;

// private player data

uint8_t id = singleplayerId;

uint8_t health;

uint16_t orientation;    // brad [0,2] in Q15

// (dirX, dirY) is the unit vector derived from orientation
// initialized in setup
int16_t dirX;   // Q15
int16_t dirY;   // Q15

int16_t momX;   // Q16
int16_t momY;   // Q16

uint16_t zbuf[FBW]; // Q8

uint8_t doors[numDoors];

// public player data / other player data
volatile sprite_t sprites[I2C_MAX_PLAYERS];

bool singleplayer;

int8_t menuIdx;
uint8_t usernameIdx;
int8_t creditsY;

const uint8_t worldMap[mapHeight][mapWidth] PROGMEM = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	{1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,},
	{1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,5,1,1,21,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,},
	{1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,},
	{1,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,},
	{1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,},
	{1,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1,},
	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,},
	{1,2,2,2,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,2,2,2,1,},
	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,},
	{1,0,0,0,0,0,0,0,2,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,2,0,0,0,0,0,0,0,1,},
	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,0,0,0,0,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,},
	{1,0,0,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,0,0,1,},
	{1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,},
	{1,2,2,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,2,2,1,},
	{1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,},
	{1,37,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,1,1,0,1,0,0,0,0,1,0,1,0,1,1,0,1,0,1,0,0,0,0,1,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,53,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,1,0,1,1,1,0,1,0,0,0,0,1,1,0,0,0,0,1,0,1,1,1,0,1,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,69,1,0,1,0,0,1,0,1,0,1,1,0,1,0,1,0,0,1,0,1,85,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0,0,1,0,0,1,0,1,0,1,1,1,1,0,1,0,1,0,0,1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,101,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,117,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,0,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,},
	{1,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,1,},
	{1,2,0,2,0,2,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,2,0,2,0,2,1,},
	{1,0,0,0,0,0,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,1,1,0,1,1,0,0,0,0,0,1,},
	{1,2,0,2,0,2,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,2,0,2,0,2,1,},
	{1,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,1,},
	{1,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,},
	{1,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,},
	{1,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,1,},
	{1,2,0,2,0,2,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,2,0,2,0,2,1,},
	{1,0,0,0,0,0,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,1,1,0,1,1,0,0,0,0,0,1,},
	{1,2,0,2,0,2,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,2,0,2,0,2,1,},
	{1,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,1,},
	{1,0,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,133,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,14,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0,0,1,0,0,1,0,1,0,1,1,1,1,0,1,0,1,0,0,1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,149,1,0,1,0,0,1,0,1,0,1,1,0,1,0,1,0,0,1,0,1,165,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,1,0,1,1,1,0,1,0,0,0,0,1,1,0,0,0,0,1,0,1,1,1,0,1,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,},
	{1,181,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,1,1,0,1,0,0,0,0,1,0,1,0,1,1,0,1,0,1,0,0,0,0,1,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,197,1,},
	{1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,},
	{1,2,2,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,2,2,1,},
	{1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,},
	{1,0,0,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,0,0,1,},
	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,0,0,0,0,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,},
	{1,0,0,0,0,0,0,0,2,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,2,0,0,0,0,0,0,0,1,},
	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,},
	{1,2,2,2,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,2,2,2,1,},
	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,},
	{1,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1,},
	{1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,},
	{1,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,},
	{1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,},
	{1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,213,1,1,229,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,},
	{1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
};

// const Point startPos[I2C_MAX_PLAYERS] PROGMEM = {
//     { FIX16(19.0f, 8), FIX16(7.0f, 8) },
//     { FIX16(6.0f, 8), FIX16(17.0f, 8) },
//     { FIX16(6.0f, 8), FIX16(8.0f, 8) },
//     { FIX16(16.0f, 8), FIX16(17.0f, 8) }
// };
// const uint8_t mapWidth = 24;
// const uint8_t mapHeight = 24;

// const uint8_t worldMap[mapWidth][mapHeight] PROGMEM = {
//     {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,2,0,2,0,2,0,0,0,1},
//     {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,2,0,0,0,2,0,0,0,1},
//     {1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,2,0,2,0,2,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,0,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
//     {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
// };

const unsigned char PROGMEM laserTaggerPlusMask[] = {
    laserTaggerWidth, laserTaggerHeight,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0x60, 0xe0, 0xa0, 0xf0, 0xd8, 0xf8, 0xa8, 0xfc, 0x74, 0xfc, 0xa8, 0xfc, 0xd0, 0xfc, 0xa0, 0xfc, 0x40, 0xfc, 0x80, 0xfc, 0x00, 0xfc, 0x00, 0xfc, 0x0a, 0xff, 0x1f, 0xff, 
    0x2a, 0xff, 0x7f, 0xff, 0xaa, 0xff, 0xff, 0xff, 0xaa, 0xff, 0x5f, 0xff, 0x4a, 0xfe, 0x46, 0xfe, 0xbc, 0xfc, 0x44, 0xfc, 0x48, 0xfc, 0x50, 0xf8, 0xa0, 0xf0, 0x00, 0xe0, 0x00, 0xc0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xaa, 0xff, 0x55, 0xff, 0x2e, 0xff, 0x55, 0xff, 0x2a, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x57, 0xff, 0xaa, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x54, 0xff, 0xa8, 0xff, 
    0x50, 0xff, 0xa0, 0xff, 0x40, 0xff, 0x01, 0xff, 0x42, 0xff, 0x07, 0xff, 0x42, 0xff, 0x04, 0xff, 0x43, 0xff, 0x04, 0xff, 0x42, 0xff, 0x05, 0xff, 0x43, 0xff, 0x00, 0xff, 0x40, 0xff, 0x00, 0xff, 0x40, 0xff, 0x00, 0xfe, 0x40, 0xfc, 0x00, 0xf8, 0x00, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0xe0, 0xa0, 0xf0, 0xd8, 0xf8, 0xa8, 0xfc, 0xfe, 0xfe, 0xaa, 0xff, 0xfd, 0xff, 0xba, 0xff, 0xf4, 0xff, 0x80, 0xff, 0x50, 0xff, 0x00, 0xff, 0x01, 0xff, 0x08, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x51, 0xff, 0xa2, 0xff, 
    0x45, 0xff, 0x8a, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x54, 0xff, 0xa8, 0xff, 0x54, 0xff, 0xe8, 0xff, 0x54, 0xff, 0x08, 0xff, 0x14, 0xff, 0x88, 0xff, 0x14, 0xff, 0x88, 0xff, 0x14, 0xff, 0x80, 0xff, 0x14, 0xff, 0x80, 0xff, 0x14, 0xff, 0x80, 0xff, 0x54, 0xff, 0xa8, 0xff, 0x54, 0xfe, 0xa8, 0xfc, 0x00, 0x00, 
    0x80, 0xc0, 0x54, 0xfc, 0xaa, 0xfe, 0x55, 0xff, 0xaa, 0xff, 0x5d, 0xff, 0xaa, 0xff, 0x7f, 0xff, 0xea, 0xff, 0xdd, 0xff, 0xaa, 0xff, 0xff, 0xff, 0xaa, 0xff, 0xdd, 0xff, 0xaa, 0xff, 0xf4, 0xff, 0xa8, 0xff, 0xd0, 0xff, 0xa0, 0xff, 0x81, 0xff, 0x02, 0xff, 0x05, 0xff, 0x0a, 0xff, 0x15, 0xff, 0x2a, 0xff, 
    0x55, 0xff, 0xaa, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x55, 0xff, 0xee, 0xff, 0x55, 0xff, 0x00, 0xff, 0x00, 0xff, 0xaa, 0xff, 0x55, 0xff, 0x00, 0xff, 0x01, 0xff, 0x00, 0xff, 0x01, 0xff, 0x00, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x00, 0xff, 0x2a, 0xff, 0x55, 0xff, 0xaa, 0xff, 0x40, 0xe0,
};

const unsigned char PROGMEM laserTaggerFlashPlusMask[] = {
    laserTaggerFlashWidth, laserTaggerFlashHeight,
    0x00, 0x00, 0x00, 0xc0, 0x00, 0xe0, 0x40, 0xe0, 0x80, 0xf0, 0xd0, 0xf8, 0xa0, 0xf8, 0xf4, 0xfc, 0xe8, 0xfe, 0xfc, 0xff, 0xf8, 0xff, 0xfd, 0xff, 0xea, 0xff, 0xfc, 0xff, 0xfa, 
    0xff, 0xff, 0xff, 0xee, 0xff, 0xff, 0xff, 0xfe, 0xff, 0xff, 0xff, 0xee, 0xff, 0xfd, 0xff, 0xfa, 0xff, 0xfd, 0xff, 0xf8, 0xff, 0xfc, 0xff, 0xf8, 0xfe, 0xf4, 0xfe, 0xe8, 0xfe, 
    0x80, 0xfc, 0xd4, 0xff, 0xfa, 0xff, 0xff, 0xff, 0xee, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
    0x0a, 0xff, 0xdf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
    0x00, 0x07, 0x05, 0x1f, 0x03, 0x1f, 0x1f, 0x1f, 0x0f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x0f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 
    0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x0f, 0x1f,
};
const uint8_t PROGMEM _texData[] {
    0x00, 0x00, 0x30, 0xe8, 0x80, 0x3c, 0x4e, 0x4e, 0x4e, 0x4e, 0x3c, 0x80, 0xe8, 0x30, 0x00, 0x00, 
    0x00, 0x00, 0x1f, 0x19, 0x01, 0x73, 0x17, 0x17, 0x17, 0x17, 0x73, 0x01, 0x19, 0x1f, 0x00, 0x00,

	// 0x00, 0x00, 0xf0, 0xf0, 0xf0, 0xf0, 0xfc, 0x74, 0x74, 0xfc, 0xf0, 0xf0, 0xf0, 0xf0, 0x00, 0x00, 
	// 0x00, 0x00, 0x3d, 0x31, 0x37, 0x31, 0x3d, 0x3d, 0x3d, 0x3d, 0x31, 0x37, 0x31, 0x3d, 0x00, 0x00,
};

const uint8_t PROGMEM _texMask[] {
    0x00, 0x00, 0x30, 0xf8, 0xf8, 0xfc, 0xfe, 0xfe, 0xfe, 0xfe, 0xfc, 0xf8, 0xf8, 0x30, 0x00, 0x00, 
    0x00, 0x00, 0x1f, 0x19, 0x01, 0x7b, 0x1f, 0x1f, 0x1f, 0x1f, 0x7b, 0x01, 0x19, 0x1f, 0x00, 0x00,
	
	// 0x00, 0x00, 0xf0, 0xf0, 0xf0, 0xf0, 0xfc, 0x74, 0x74, 0xfc, 0xf0, 0xf0, 0xf0, 0xf0, 0x00, 0x00, 
	// 0x00, 0x00, 0x3d, 0x31, 0x37, 0x31, 0x3d, 0x3d, 0x3d, 0x3d, 0x31, 0x37, 0x31, 0x3d, 0x00, 0x00,
};
const uint8_t PROGMEM titleImage[] = {
	0x00, 0xfa, 0xa0, 0x00, 0x00, 0x00, 0x80, 0x40, 0x40, 0x40, 0xc0, 0x00, 0x02, 0x00, 0x00, 0x60, 
	0xf8, 0x00, 0xf0, 0x44, 0x00, 0x00, 0x00, 0x80, 0xc0, 0x40, 0xc0, 0xc0, 0x80, 0x00, 0x00, 0x02, 
	0x00, 0xf8, 0x00, 0xf8, 0x00, 0x02, 0x00, 0x00, 0x80, 0xc0, 0x42, 0x40, 0xc0, 0x00, 0x00, 0x00, 
	0x00, 0x04, 0xf8, 0x00, 0xfa, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x70, 0x80, 0x70, 0x0a, 
	0x00, 0x00, 0x00, 0x02, 0x00, 0x40, 0xfa, 0x00, 0x00, 0xff, 0xb2, 0x40, 0x91, 0x00, 0xff, 0xf4, 
	0x40, 0xa0, 0xff, 0xcd, 0x10, 0xa0, 0x00, 0xff, 0xff, 0x00, 0xff, 0xe5, 0x08, 0xb0, 0x00, 0xd2, 
	0xff, 0xe8, 0x10, 0xe0, 0xff, 0x00, 0xa4, 0x00, 0x59, 0xff, 0x00, 0xff, 0x00, 0x50, 0xa4, 0x00, 
	0xff, 0xf0, 0x90, 0xe0, 0xff, 0x80, 0x54, 0x20, 0x10, 0xe2, 0xff, 0x00, 0xff, 0xfa, 0x00, 0xc0, 
	0x04, 0xf8, 0x80, 0x12, 0xc0, 0x03, 0xa8, 0x80, 0x48, 0x90, 0x20, 0x80, 0x00, 0xed, 0xff, 0x00, 
	0x20, 0xff, 0x6d, 0x3a, 0xd5, 0x0c, 0xef, 0xff, 0x7f, 0x9e, 0xff, 0xe0, 0xde, 0xf2, 0xfc, 0xff, 
	0xff, 0xa4, 0xff, 0xff, 0xfa, 0xfe, 0xe8, 0xaa, 0xff, 0xbf, 0x3f, 0x3f, 0xef, 0x0c, 0xbb, 0x25, 
	0x5d, 0xff, 0x82, 0xff, 0x25, 0x3e, 0x5b, 0x04, 0xff, 0x7f, 0x3e, 0xff, 0xff, 0xe4, 0xfa, 0xfd, 
	0xfa, 0xff, 0xff, 0x00, 0xff, 0xff, 0xfa, 0xf2, 0xfc, 0xff, 0x1f, 0xf8, 0xc3, 0xf6, 0xa4, 0x0d, 
	0xda, 0xfd, 0x3a, 0x72, 0xa4, 0xdd, 0xff, 0x00, 0x24, 0xff, 0xf2, 0xf6, 0xfd, 0xfe, 0xff, 0xff, 
	0xff, 0xff, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe6, 0xcf, 0x5f, 0x7f, 0x7f, 0xff, 0xff, 
	0xff, 0xff, 0xff, 0xfe, 0xff, 0xf6, 0xff, 0xf9, 0xfc, 0x7f, 0x35, 0x7f, 0xfc, 0xfb, 0xff, 0xfc, 
	0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0x3f, 0xdf, 0xef, 0xf2, 0xf7, 0xff, 0xff, 0xff, 
	0xff, 0xff, 0xc8, 0x53, 0xff, 0xff, 0xff, 0x1f, 0x43, 0xff, 0xf4, 0xdd, 0xd0, 0xd5, 0xff, 0x00, 
	0x22, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x3f, 0x1f, 0x0f, 0x07, 0x07, 
	0x03, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x03, 0x07, 0x0f, 0x07, 0x03, 0x01, 0x01, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x07, 0x07, 0x0f, 0x07, 0x03, 0x01, 0x01, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x0f, 0x0f, 0x07, 0x07, 0x0e, 0x1f, 0x0f, 0x0f, 0xf9, 0xff, 
	0xda, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x06, 0x0f, 0x1f, 0x0f, 0x07, 0x03, 0x01, 0x01, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x0f, 0x0f, 0x1f, 0x3f, 0x7f, 0x7f, 0x3f, 0x10
};

const uint8_t PROGMEM menuImage[] = {
	0x17, 0x0d, 0x17, 0x0d, 0x17, 
};

const startpos_t startPos[I2C_MAX_PLAYERS] PROGMEM = {
    { FIX16(62.5f, 8), FIX16(62.5f, 8), UFIX16(1.25f, 15)},
    { FIX16(1.5f, 8), FIX16(62.5f, 8), UFIX16(0.75f, 15) },
    { FIX16(1.5f, 8), FIX16(1.5f, 8), UFIX16(0.25f, 15) },
    { FIX16(62.5f, 8), FIX16(1.5f, 8), UFIX16(1.75f, 15) }
};